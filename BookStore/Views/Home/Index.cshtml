@model BookStore.Models.HomeViewModel

<main class="flex-grow-1">
    <div class="container py-4">

        <!-- اسلایدر ثابت -->
        <div id="mainCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="0" class="active"></button>
                <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="1"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="/images/banner1.png" class="d-block w-100" alt="بنر ۱">
                </div>
                <div class="carousel-item">
                    <img src="/images/banner2.png" class="d-block w-100" alt="بنر ۲">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>
        </div>

        <!-- دسته‌بندی‌ها -->
        @if (Model.Categories?.Any() == true)
        {
            <div class="home-section mb-5">
                <h3 class="section-title">📚 دسته‌بندی‌ها</h3>
                <div class="row g-3">
                    @foreach (var cat in Model.Categories)
                    {
                        <div class="col-6 col-sm-4 col-md-2 text-center">
                            <a asp-controller="Book" asp-action="ByCategory" asp-route-id="@cat.Id" class="text-decoration-none">
                                <div class="card shadow-sm h-100">
                                    <div class="card-body d-flex flex-column align-items-center justify-content-center">
                                        <i class="fa fa-list fa-2x mb-2"></i>
                                        <h6 class="mb-0">@cat.Name</h6>
                                    </div>
                                </div>
                            </a>
                        </div>
                    }
                </div>
            </div>
        }

        <!-- کتاب‌های جدید -->
        @if (Model.NewBooks?.Any() == true)
        {
            <div class="home-section mb-5">
                <h3 class="section-title">🆕 کتاب‌های جدید</h3>
                <div class="row g-3">
                    @foreach (var book in Model.NewBooks)
                    {
                        <div class="col-6 col-sm-4 col-md-3">
                            <partial name="_BookCard" model="book" />
                        </div>
                    }
                </div>
            </div>
        }

        <!-- پرفروش‌ترین‌ها -->
        @if (Model.BestSellers?.Any() == true)
        {
            <div class="home-section mb-5">
                <h3 class="section-title">🔥 پرفروش‌ترین‌ها</h3>
                <div class="row g-3">
                    @foreach (var book in Model.BestSellers)
                    {
                        <div class="col-6 col-sm-4 col-md-3">
                            <partial name="_BookCard" model="book" />
                        </div>
                    }
                </div>
            </div>
        }

        <!-- پیشنهاد ویژه -->
        @if (Model.FeaturedBooks?.Any() == true)
        {
            <div class="home-section mb-5 last-section">
                <h3 class="section-title">🎁 پیشنهاد ویژه</h3>
                <div class="row g-3">
                    @foreach (var book in Model.FeaturedBooks)
                    {
                        <div class="col-6 col-sm-4 col-md-3">
                            <partial name="_BookCard" model="book" />
                        </div>
                    }
                </div>
            </div>
        }

        <!-- پیام در صورت نبود هیچ داده‌ای -->
        @if ((Model.Categories == null || !Model.Categories.Any()) &&
                (Model.NewBooks == null || !Model.NewBooks.Any()) &&
                (Model.BestSellers == null || !Model.BestSellers.Any()) &&
                (Model.FeaturedBooks == null || !Model.FeaturedBooks.Any()))
        {
            <div class="alert alert-info text-center">
                محتوایی برای نمایش وجود ندارد.
            </div>
        }

    </div>
</main>
